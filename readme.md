# MoLoCo

## What is MoLoCo?:
MoLoCo stands for _Module Loader Component_. A small piece of script, aimed to automate the process of loading and injection of external snippets (or components) and the needed dependencies in a static page where you cannot add it by yourself.

It can load **JS scripts** and **CSS styles** with ease.

## Motivation:

MoLoCo was created to supply the need of injecting dynamic content in an environment where the pages are static and generated by a CMS in which we have no control.

## How it works:

MoLoCo looks in the current page for a specific hidden element and loads synchronously the module(s) listed in the value attribute of this element _(comma separated)_

## How to use:

To use MoLoCo, just put a _<input type="hidden" name="load-modules" value="yourmodule,module2,snippet3" />_ and include the _moloco.js_ script in your page.

MoLoCo will then, look for the files named _yourmodule.js_, _module2.js_ and _snippet3.js_ in the _modules_ subfolder and load them synchronously.

### The modules format:

A module is a simple javascript file that tells MoLoCo what files to load, in which order and under which condition.

MoLoCo uses the same syntax of [loaderr](http://www.renatorodrigues.ninja/loaderr "Renato Rodrigues's Synchronous Module Loader") _(in fact it is an automated version of loaderr)_

### Example:
```
var styles = [
    "/static/css/my_snipet/main.css" ,
    "/static/css/dist/some_lib/some_lib_style.css"
],

scripts = [
    ["/static/js/dist/jquery-1.10.2.min.js", !window.jQuery ],
    ["/static/js/dist/underscore-1.5.1.min.js", !window._ ],
     "/static/js/dist/some_mobile_detection_lib_or_routine.js", /* no condition, it is always loaded */
    ["/static/js/my_libs/my_utils.js", !window.myUtils ],
     "/static/js/my_snipet/main.js", /* no condition, it is always loaded */
    [ "/static/js/my_snipet/mobile_specific.js", window.isMobile ], /* loads only if mobile */
];

moloco.loadStyle(styles, function() {
    /* loadStyle callback */

    moloco.loadScript(scripts, function(){
        /* loadScript callback */
        
        /* at this point all dependecies are already loaded and you can safely start your application */
        mySnippet.init(); 
    });
});
```

For a complete description and examples check the [loaderr](http://www.renatorodrigues.ninja/loaderr "Renato Rodrigues's Synchronous Module Loader") documentation.

## License:
Use it as you wish. I would greatly appreciate if you keep the credits though.

_MoLoCo is made by [Renato Rodrigues](http://about.me/renato.rodrigues) and shared with you for free. Enjoy it!_